<div class="text-analyzer-container">
  <div class="analyzer-card">
    <header class="analyzer-header">
      <h1 class="analyzer-title">Análisis de Sentimiento</h1>
      <p class="analyzer-subtitle">
        Procesa todos los ficheros <strong>.txt</strong> de un directorio y
        muestra los resultados por documento y el total.
      </p>
    </header>

    <div class="analyzer-body">
      <div class="input-section">
        <!-- Input oculto para seleccionar archivo -->
        <input 
          #fileInput
          type="file" 
          accept=".txt" 
          hidden
          (change)="onUploadFile($event)"
        >
        <button type="button" (click)="abrirSelector()">Subir archivo</button>

        <hr>

        <label for="emailText" class="input-label">Texto del correo electrónico</label>
        <textarea
          id="emailText"
          class="text-input"
          placeholder="Pegue aquí el contenido del correo electrónico..."
          rows="10"
          [(ngModel)]="emailText"
          (ngModelChange)="onTextChange($event)"
        ></textarea>
      </div>

      <div class="results-section" *ngIf="fileResults.length > 0">
        <div class="result-card">
          <span class="result-label">Resultados por documento</span>
          <ul class="file-results-list">
            <li
              class="file-result-item"
              *ngFor="let result of fileResults"
            >
              {{ result.fileName }} ({{ result.wordCount }}, {{ result.totalWeight }})
            </li>
          </ul>
        </div>

        <div class="result-card">
          <span class="result-label">Total</span>
          <span class="result-value">
            {{ totalBadWords }}, {{ totalWeightAll }}
          </span>
        </div>
      </div>
    </div>
  </div>
</div>
