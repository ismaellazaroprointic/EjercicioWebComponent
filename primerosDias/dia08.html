

<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Visor de Usuarios</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        #userInfo h1 {
            margin: 0;
        }
        #userInfo h2 {
            margin: 5px 0 20px 0;
            color: gray;
        }
        #userAlbums {
            list-style-type: disc;
            padding-left: 20px;
        }
        #userAlbums li {
            text-shadow: 2px 2px 4px #aaa;
        }
        div {
            margin-top: 20px;
        }
        span
        {
            display: flex;
            gap: 50px;
            justify-content: center;
            flex-wrap: wrap;
        }
    </style>
</head>
<body>
    <!-- Introduciendo un numero de usuario como la vez anterior quiero lo siguiente:
Devolver el nombre y la ciudad donde vive entre paréntesis.
En la parte inferior tendremos el titulo de todos los albums que ha hecho el usuario, quiero que me salgan los títulos con un formato de texto que tenga sombra.

https://jsonplaceholder.typicode.com/albums?userId=3
-->
    <h1>Visor de Usuarios</h1>
    <input type="number" id="userId" placeholder="Introduce el número de usuario" />
    <button id="fetchUser">OK</button>
    
    <span>
    <div id="userInfo"></div>
    <ul id="userAlbums"></ul>
    </span>
    <script>
        try {
        document.getElementById('fetchUser').addEventListener('click', async () => {
            const userId = document.getElementById('userId').value;
            const userResponse = await fetch(`https://jsonplaceholder.typicode.com/users/${userId}`);
            const user = await userResponse.json();

            const userInfoDiv = document.getElementById('userInfo');
            userInfoDiv.innerHTML = `<h1>(<b>Nombre:</b> ${user.name}</br><b>Ciudad:</b> ${user.address.city})</h1>`;

            const albumsResponse = await fetch(`https://jsonplaceholder.typicode.com/albums?userId=${userId}`);
            const albums = await albumsResponse.json();
            const userAlbumsUl = document.getElementById('userAlbums');
            userAlbumsUl.innerHTML = '';
            albums.forEach(album => {
                const li = document.createElement('li');
                li.textContent = album.title;
                userAlbumsUl.appendChild(li);
            });
        });
        } catch (error) {
            console.error('Error fetching user data:', error);
        }
    </script>
</body>
</html>